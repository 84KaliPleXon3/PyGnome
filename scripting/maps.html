

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Maps &mdash; pyGNOME 0.1.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyGNOME 0.1.1 documentation" href="../index.html"/>
        <link rel="up" title="Scripting pygnome" href="../scripting.html"/>
        <link rel="next" title="Spills" href="spills.html"/>
        <link rel="prev" title="Scripting utilities" href="utilities.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> pyGNOME
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure.html">GNOME Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../scripting.html">Scripting pygnome</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scripting_intro.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Scripting utilities</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Maps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manual-creation">Manual Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-shoreline-from-file">Load Shoreline from File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-map-from-currents-grid">Create Map from Currents Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-map-to-model">Add Map to Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spills.html">Spills</a></li>
<li class="toctree-l2"><a class="reference internal" href="movers.html">Movers</a></li>
<li class="toctree-l2"><a class="reference internal" href="weatherers.html">Weatherers</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputters.html">Outputters</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripting_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units used in GNOME / PyGNOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">PyGnome Class Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">pyGNOME</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../scripting.html">Scripting pygnome</a> &raquo;</li>
      
    <li>Maps</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/scripting/maps.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="maps">
<h1>Maps<a class="headerlink" href="#maps" title="Permalink to this headline">¶</a></h1>
<p>Maps can be created manually (e.g. in the case of all water), generated from a model grid, or loaded from a file.
The map file format supported by GNOME is the BNA shoreline format (see the GNOME file formats document).
Support for shapefiles is currently being implemented.</p>
<p>If a BNA map is loaded this will be the shoreline used for oil beaching algorithms. If gridded movers are also
added to the model, it may be desirable to have the shoreline generated from the currents grid so that it matches
(both in exact position and in resolution). See the section below on Generating Map from Currents Grid.</p>
<p>Some of the more common use cases and map options are shown below.
For complete documentation see <a class="reference internal" href="../reference.html#module-gnome.map" title="gnome.map"><code class="xref py py-mod docutils literal"><span class="pre">gnome.map</span></code></a></p>
<div class="section" id="manual-creation">
<h2>Manual Creation<a class="headerlink" href="#manual-creation" title="Permalink to this headline">¶</a></h2>
<p>Create an all water map &#8211; if map_bounds is not specified, a spill can be added anywhere in the &#8220;water world&#8221;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gnome.map</span> <span class="k">import</span> <span class="n">GnomeMap</span>
<span class="n">mymap</span> <span class="o">=</span> <span class="n">GnomeMap</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Options:</em></p>
<dl class="docutils">
<dt>map_bounds</dt>
<dd>A polygon bounding the map, e.g. map_bounds = ((-145,48), (-145,49), (-143,49), (-143,48))</dd>
</dl>
</div>
<div class="section" id="load-shoreline-from-file">
<h2>Load Shoreline from File<a class="headerlink" href="#load-shoreline-from-file" title="Permalink to this headline">¶</a></h2>
<p>Load a BNA map file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gnome.map</span> <span class="k">import</span> <span class="n">MapFromBNA</span>
<span class="n">mymap</span> <span class="o">=</span> <span class="n">MapFromBNA</span><span class="p">(</span><span class="n">mapfile</span><span class="o">.</span><span class="n">bna</span><span class="p">,</span> <span class="n">refloat_halflife</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Options:</em></p>
<dl class="docutils">
<dt>refloat_halflife</dt>
<dd>Particles that beach on the shorelines are randomly refloated according to the specified half-life
(specified in hours). This is a global shoreline parameter, i.e. there is only one shoreline type.
If no refloating is desired set this value to -1.</dd>
</dl>
</div>
<div class="section" id="create-map-from-currents-grid">
<h2>Create Map from Currents Grid<a class="headerlink" href="#create-map-from-currents-grid" title="Permalink to this headline">¶</a></h2>
<p>This feature is under development in pygnome.</p>
</div>
<div class="section" id="add-map-to-model">
<h2>Add Map to Model<a class="headerlink" href="#add-map-to-model" title="Permalink to this headline">¶</a></h2>
<p>This can be done a few ways. For example, when setting up the model:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">time_step</span><span class="o">=</span><span class="mi">3600</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="n">duration</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="nb">map</span><span class="o">=</span><span class="n">mymap</span><span class="p">)</span>
</pre></div>
</div>
<p>Or added to the model after it has been set up.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">mymap</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spills.html" class="btn btn-neutral float-right" title="Spills" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="utilities.html" class="btn btn-neutral" title="Scripting utilities" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012, NOAA Emergecny Response Division.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>