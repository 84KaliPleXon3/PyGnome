

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The logging system &mdash; pyGNOME 0.1.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyGNOME 0.1.1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> pyGNOME
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure.html">GNOME Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Scripting pygnome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units used in GNOME / PyGNOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">PyGnome Class Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">pyGNOME</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>The logging system</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/sphinx_docs/logging.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-logging-system">
<h1>The logging system<a class="headerlink" href="#the-logging-system" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal"><span class="pre">pygnome</span></code> comes with the python logging system pre-configured for use.</p>
<p>It is used in the code to capture model state and warnings. When used as the back-end behind WebGNOME, the logging messages are passed to the client for display to the user, and parsed for capturing warnings etc.</p>
<p>But you may also want to use the logging system in scripting mode, to capture what&#8217;s going on with the model.</p>
<div class="section" id="configuring-the-logger">
<h2>Configuring the logger<a class="headerlink" href="#configuring-the-logger" title="Permalink to this headline">¶</a></h2>
<p>The logger can be initialized and configured in the usual way with the python <code class="docutils literal"><span class="pre">logging</span></code> module. However, pygnome comes with a couple utilities to make it easy to do standard configuration:</p>
<div class="section" id="gnome-initialize-console-log-level-debug">
<h3><code class="docutils literal"><span class="pre">gnome.initialize_console_log(level='debug')</span></code><a class="headerlink" href="#gnome-initialize-console-log-level-debug" title="Permalink to this headline">¶</a></h3>
<p>Initializes the logger to simply log everything to the console (stdout). Likely what you want for scripting use.</p>
<p>you can set the logging level to the level you want your log to show. options are, in order of importance: &#8220;debug&#8221;, &#8220;info&#8221;, &#8220;warning&#8221;, &#8220;error&#8221;, &#8220;critical&#8221;</p>
<p>You will only get the logging messages at or above the level you set.</p>
<p>(see <code class="docutils literal"><span class="pre">script_columbia_river</span></code> for an example)</p>
</div>
<div class="section" id="gnome-initialize-log-config-logfile-none">
<h3><code class="docutils literal"><span class="pre">gnome.initialize_log(config,</span> <span class="pre">logfile=None)</span></code><a class="headerlink" href="#gnome-initialize-log-config-logfile-none" title="Permalink to this headline">¶</a></h3>
<p>Helper function to initialize a log - this should be called by the application using PyGnome.
This is used to set up the log for the WEbGNOME API, for instance. <code class="docutils literal"><span class="pre">config</span></code> can be a file containing json or it can be a Python dict &#8211; in the dict config format used by <code class="docutils literal"><span class="pre">logging.dictConfig</span></code>:</p>
<p><a class="reference external" href="https://docs.python.org/2/library/logging.config.html#logging-config-dictschema">https://docs.python.org/2/library/logging.config.html#logging-config-dictschema</a></p>
<p>logfile is the optional file name to log to.</p>
<p>(this requires a bit of knowledge of the logging system)</p>
</div>
</div>
<div class="section" id="using-the-logger">
<h2>Using the logger<a class="headerlink" href="#using-the-logger" title="Permalink to this headline">¶</a></h2>
<p>If you want to use the logger in your scripts (or are writing your own mover, etc.), you can do:</p>
<p><code class="docutils literal"><span class="pre">import</span> <span class="pre">logger</span></code></p>
<p>and then use the regular logging functions, passing in the message you want to log:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;this is info you&#39;d only want for debugging&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;this is some arbitrary information&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;this is just a friendly warning&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;oh oh! an error occurred&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;whoops! a critical error -- you really don&#39;t want to miss this!&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>These are in order of importance &#8211; debug is not important, critical is critically important.</p>
</div>
<div class="section" id="logging-levels-in-webgnome">
<h2>Logging levels in WebGNOME<a class="headerlink" href="#logging-levels-in-webgnome" title="Permalink to this headline">¶</a></h2>
<p>In WebGNOME, The logger is used to pass information to the Web client through the WebAPI. In this case, the logging levels are used to tell the client how to process the log message:</p>
<p><code class="docutils literal"><span class="pre">logger.debug</span></code>:</p>
<p><code class="docutils literal"><span class="pre">logger.info</span></code>:</p>
<p><code class="docutils literal"><span class="pre">logger.warning</span></code>:</p>
<p><code class="docutils literal"><span class="pre">logger.error</span></code>:</p>
<p><code class="docutils literal"><span class="pre">logger.critical</span></code>:</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012, NOAA Emergecny Response Division.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>