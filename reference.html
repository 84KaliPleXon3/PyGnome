<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyGNOME Reference &mdash; pyGNOME 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pyGNOME 0.1.1 documentation" href="index.html" />
    <link rel="next" title="Units used in GNOME / PyGNOME" href="units.html" />
    <link rel="prev" title="CATS currents" href="tutorial_2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="units.html" title="Units used in GNOME / PyGNOME"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial_2.html" title="CATS currents"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pyGNOME 0.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pygnome-reference">
<span id="reference"></span><h1><tt class="docutils literal"><span class="pre">pyGNOME</span></tt> Reference<a class="headerlink" href="#pygnome-reference" title="Permalink to this headline">¶</a></h1>
<p>pyGNOMEis a wrapper around a set of C++ libraries. THe C++ code is designed to be used by itself, or from Python, though using it in Python is easier. The API is perhaps a bit klunky &#8211; the C++ code was all orginally written as part of a monolithic GUI program &#8211; we have separated the GUI parts, and cleaned up the API so that the pieces can be used individually.</p>
<div class="section" id="basic-structure">
<h2>Basic Structure<a class="headerlink" href="#basic-structure" title="Permalink to this headline">¶</a></h2>
<p>There are a handlful of core base classes you need to use pyGNOME for anything useful:</p>
<dl class="docutils">
<dt>a model:</dt>
<dd>This is the main class that keeps track of all the pieces, runs the loop through time, etc. The code comes with a full-featured version &#8211; you may want a simpler one if you aren&#8217;t doing a full-on oil spill model.</dd>
<dt>movers:</dt>
<dd>These are classes that represent anything that moves a particle.  Or in fact, alters a particle in any way (the name mover is a bit historical &#8211; they used to only move particles...).  Examples include surface winds, currents (from a variety of sources), weathering processes, etc. &#8211; this is where the real work is done.  Each mover&#8217;s action is essentially linear superposed with the others. i.e at each time step, the model loops through all the movers, and passes the spill objects to be acted on.
At the C++ level, each mover has a <cite>get_move</cite> method that takes the current time, model time step, and pointers to the arrays of particle properties it needs.  At the Python level, the get_move method takes a spill object, and the required arrays are extracted from the spill object &#8211; this lets us pass to a mover only the data that it really needs, and lets us use Python for the dynamic parts &#8211; making sure that the data needed exists.</dd>
<dt>spills:</dt>
<dd><blockquote class="first">
<div><p>A spill class is a class that holds a set of particles and various information about them. Each of the particle properties are stored as numpy arrays (in a dict) &#8211; so that for a given model setup, the spill only needs to have the properties required, and the properties used by a given mover (and only those) can be passed in as a C pointer to the mover code.  At the very least, each spill has a set of particle position arrays.</p>
<p>There may be multiple spills in a model set-up, but for efficiency&#8217;s sake, each spill usually is a set of 1000 or so particles that share various properties.</p>
</div></blockquote>
<p class="last">A spill class has a <cite>release_particles</cite> method that is called at each time step, so that the number of particles can increase as time goes on, etc.</p>
</dd>
<dt>a map:</dt>
<dd>A map keeps track of where land and water are.  The simplest map is all the earth with no land.  It has methods to ask if a location is on land, if a location is &#8220;spillable&#8221;, etc.  The most commonly used map for surface oil spills is intialized with a <cite>*.bna</cite> file describing polygons of land &#8211; this is rasterized into a land-eater bitmap.  During the run, the model calls the <cite>&#8216;beach_LEs</cite> method, which determines which particles have hit land in the last time step, and sets those particles to &#8220;beached&#8221;.</dd>
</dl>
</div>
<div class="section" id="class-reference">
<h2>Class Reference:<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-model-the-pygnome-model-class">
<h2><tt class="docutils literal"><span class="pre">gnome.model</span></tt> &#8211; the pyGNOME model class<a class="headerlink" href="#gnome-model-the-pygnome-model-class" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-map-the-pygnome-map-class">
<h2><tt class="docutils literal"><span class="pre">gnome.map</span></tt> &#8211; the pyGNOME map class<a class="headerlink" href="#gnome-map-the-pygnome-map-class" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-spill-the-pygnome-spill-class">
<h2><tt class="docutils literal"><span class="pre">gnome.spill</span></tt> &#8211; the pyGNOME spill class<a class="headerlink" href="#gnome-spill-the-pygnome-spill-class" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-movers-pygnome-mover-classes">
<h2><tt class="docutils literal"><span class="pre">gnome.movers</span></tt> &#8211; pyGNOME mover classes<a class="headerlink" href="#gnome-movers-pygnome-mover-classes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-weather-pygnome-environment-classes">
<h2><tt class="docutils literal"><span class="pre">gnome.weather</span></tt> &#8211; pyGNOME environment classes<a class="headerlink" href="#gnome-weather-pygnome-environment-classes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-outputter-pygnome-outputter-classes">
<h2><tt class="docutils literal"><span class="pre">gnome.outputter</span></tt> &#8211; pyGNOME outputter classes<a class="headerlink" href="#gnome-outputter-pygnome-outputter-classes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gnome-persist-pygnome-persistance-classes">
<h2><tt class="docutils literal"><span class="pre">gnome.persist</span></tt> &#8211; pyGNOME persistance classes<a class="headerlink" href="#gnome-persist-pygnome-persistance-classes" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">pyGNOME</span></tt> Reference</a><ul>
<li><a class="reference internal" href="#basic-structure">Basic Structure</a></li>
<li><a class="reference internal" href="#class-reference">Class Reference:</a></li>
<li><a class="reference internal" href="#gnome-model-the-pygnome-model-class"><tt class="docutils literal"><span class="pre">gnome.model</span></tt> &#8211; the pyGNOME model class</a></li>
<li><a class="reference internal" href="#gnome-map-the-pygnome-map-class"><tt class="docutils literal"><span class="pre">gnome.map</span></tt> &#8211; the pyGNOME map class</a></li>
<li><a class="reference internal" href="#gnome-spill-the-pygnome-spill-class"><tt class="docutils literal"><span class="pre">gnome.spill</span></tt> &#8211; the pyGNOME spill class</a></li>
<li><a class="reference internal" href="#gnome-movers-pygnome-mover-classes"><tt class="docutils literal"><span class="pre">gnome.movers</span></tt> &#8211; pyGNOME mover classes</a></li>
<li><a class="reference internal" href="#gnome-weather-pygnome-environment-classes"><tt class="docutils literal"><span class="pre">gnome.weather</span></tt> &#8211; pyGNOME environment classes</a></li>
<li><a class="reference internal" href="#gnome-outputter-pygnome-outputter-classes"><tt class="docutils literal"><span class="pre">gnome.outputter</span></tt> &#8211; pyGNOME outputter classes</a></li>
<li><a class="reference internal" href="#gnome-persist-pygnome-persistance-classes"><tt class="docutils literal"><span class="pre">gnome.persist</span></tt> &#8211; pyGNOME persistance classes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial_2.html"
                        title="previous chapter">CATS currents</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="units.html"
                        title="next chapter">Units used in GNOME / PyGNOME</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/reference.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="units.html" title="Units used in GNOME / PyGNOME"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial_2.html" title="CATS currents"
             >previous</a> |</li>
        <li><a href="index.html">pyGNOME 0.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, NOAA Emergecny Response Division.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>